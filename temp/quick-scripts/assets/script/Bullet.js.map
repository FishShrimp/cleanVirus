{"version":3,"sources":["Bullet.js"],"names":["cc","Class","extends","Component","properties","ctor","m_updateMove","m_Speed","start","init","onCollisionEnter","other","self","tag","js","getComponent","m_bDie","gGameCtl","onBulletKilled","node","setSecondPos","pos","seq","sequence","moveTo","callFunc","bind","runAction","setSpeed","speed","update","dt","y","log"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAML;;AAEA;AACAC,UAAK,gBAAU;AACX,aAAKC,YAAL,GAAoB,KAApB;AACA,aAAKC,OAAL,GAAe,IAAf;AACH,KAZI;AAaLC,SAbK,mBAaI,CAER,CAfI;;AAgBLC,UAAK,gBAAU;AACX,aAAKH,YAAL,GAAoB,KAApB;AACH,KAlBI;AAmBLI,sBAAkB,0BAAUC,KAAV,EAAgBC,IAAhB,EAAsB;;AAEpC,YAAID,MAAME,GAAN,IAAa,CAAjB,EAAoB;AAChB,gBAAIC,KAAKH,MAAMI,YAAN,CAAmB,KAAGJ,MAAME,GAA5B,CAAT;AACA,gBAAI,CAACC,GAAGE,MAAR,EAAgB;AACZC,yBAASC,cAAT,CAAwB,KAAKC,IAA7B;AACH;AACJ;AACJ,KA3BI;AA4BLC,kBAAa,sBAASC,GAAT,EAAa;AACtB,YAAIC,MAAMtB,GAAGuB,QAAH,CACNvB,GAAGwB,MAAH,CAAU,GAAV,EAAcH,GAAd,CADM,EAENrB,GAAGyB,QAAH,CAAY,YAAU;AAClB,iBAAKnB,YAAL,GAAoB,IAApB;AACH,SAFW,CAEVoB,IAFU,CAEL,IAFK,CAAZ,CAFM,CAAV;AAMA,aAAKP,IAAL,CAAUQ,SAAV,CAAoBL,GAApB;AACH,KApCI;AAqCLM,cAAS,kBAASC,KAAT,EAAe;AACpB;AACH,KAvCI;AAwCLC,UAxCK,kBAwCGC,EAxCH,EAwCO;AACR,YAAG,KAAKzB,YAAR,EAAqB;AACjB,gBAAI0B,IAAI,KAAKb,IAAL,CAAUa,CAAlB;AACAA,iBAAK,KAAKzB,OAAL,GAAawB,EAAlB;AACA,iBAAKZ,IAAL,CAAUa,CAAV,GAAcA,CAAd;AACA,gBAAI,KAAKzB,OAAL,IAAgB,CAApB,EAAuB;;AAEnBP,mBAAGiC,GAAH,CAAO,KAAP;AACH;AACD,gBAAID,IAAI,GAAR,EAAa;AACT,qBAAK1B,YAAL,GAAoB,KAApB;AACAW,yBAASC,cAAT,CAAwB,KAAKC,IAA7B;AACH;AACJ;AACJ;AAtDI,CAAT","file":"Bullet.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    ctor:function(){\r\n        this.m_updateMove = false;\r\n        this.m_Speed = 1000;\r\n    },\r\n    start () {\r\n\r\n    },\r\n    init:function(){\r\n        this.m_updateMove = false;\r\n    },\r\n    onCollisionEnter: function (other,self) {\r\n\r\n        if( other.tag == 0 ){\r\n            var js = other.getComponent(''+other.tag);\r\n            if( !js.m_bDie ){\r\n                gGameCtl.onBulletKilled(this.node);\r\n            }\r\n        }\r\n    },\r\n    setSecondPos:function(pos){\r\n        var seq = cc.sequence(\r\n            cc.moveTo(0.1,pos),\r\n            cc.callFunc(function(){\r\n                this.m_updateMove = true;\r\n            }.bind(this))\r\n        );\r\n        this.node.runAction(seq);\r\n    },\r\n    setSpeed:function(speed){\r\n        // this.m_Speed = speed;\r\n    },\r\n    update (dt) {\r\n        if(this.m_updateMove){\r\n            var y = this.node.y;\r\n            y += this.m_Speed*dt;\r\n            this.node.y = y;\r\n            if( this.m_Speed == 0 ){\r\n\r\n                cc.log('速度:')\r\n            } \r\n            if( y > 920 ){\r\n                this.m_updateMove = false;\r\n                gGameCtl.onBulletKilled(this.node);\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}