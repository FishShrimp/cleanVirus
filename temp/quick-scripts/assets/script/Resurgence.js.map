{"version":3,"sources":["Resurgence.js"],"names":["cc","Class","extends","Component","properties","m_BlackBG","Node","m_btTime","Label","onLoad","window","gResurgenceView","node","x","active","start","blackBGAnim","show","runAction","fadeTo","onShowView","time","string","__callBack","gAdvertising","gBrief","unschedule","schedule","onAdv","onShow","gAirPlane","Resurgence","director","getCollisionManager","enabled","gTouchCtl","setCanTouch","gGameCtl","onBulletKilledAll"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAUL,GAAGM,IADL;AAERC,kBAASP,GAAGQ;AAFJ,KAHP;;AAQL;;AAEAC,UAVK,oBAUK;AACNC,eAAOC,eAAP,GAAyB,IAAzB;;AAEA,aAAKC,IAAL,CAAUC,CAAV,GAAc,CAAd;AACA,aAAKD,IAAL,CAAUE,MAAV,GAAmB,KAAnB;AACH,KAfI;AAiBLC,SAjBK,mBAiBI,CAER,CAnBI;;;AAqBLC,iBAAY,qBAASC,IAAT,EAAc;AACtB,YAAIA,IAAJ,EAAU;AACN,iBAAKZ,SAAL,CAAea,SAAf,CAAyBlB,GAAGmB,MAAH,CAAU,GAAV,EAAc,GAAd,CAAzB;AACH,SAFD,MAEK;AACD,iBAAKd,SAAL,CAAea,SAAf,CAAyBlB,GAAGmB,MAAH,CAAU,GAAV,EAAc,CAAd,CAAzB;AACH;AACJ,KA3BI;AA4BLC,gBAAW,oBAASH,IAAT,EAAc;AACrB,YAAIA,IAAJ,EAAU;;AAEN,gBAAII,OAAO,CAAX;AACA,iBAAKd,QAAL,CAAce,MAAd,GAAuB,KAAGD,IAA1B;AACA,gBAAIE,aAAW,SAAXA,UAAW,GAAU;AACrB,oBAAGC,aAAaZ,IAAb,CAAkBE,MAArB,EAA6B;AAC7BO,wBAAQ,CAAR;AACA,qBAAKd,QAAL,CAAce,MAAd,GAAuB,KAAGD,IAA1B;;AAEA,oBAAIA,QAAQ,CAAC,CAAb,EAAe;AACX,yBAAKT,IAAL,CAAUE,MAAV,GAAmB,KAAnB;AACAW,2BAAOL,UAAP;AACA,yBAAKM,UAAL,CAAgBH,UAAhB;AACH;AACJ,aAVD;AAWA,iBAAKI,QAAL,CAAcJ,UAAd,EAAyB,CAAzB,EAA2B,CAA3B;AACH,SAhBD,MAgBK;AACD,iBAAKlB,SAAL,CAAea,SAAf,CAAyBlB,GAAGmB,MAAH,CAAU,GAAV,EAAc,CAAd,CAAzB;AACH;AACD,aAAKH,WAAL,CAAiBC,IAAjB;AACA,aAAKL,IAAL,CAAUE,MAAV,GAAmBG,IAAnB;AACH,KAlDI;AAmDLW,WAAM,iBAAU;AACZ,aAAKhB,IAAL,CAAUE,MAAV,GAAkB,KAAlB;AACAU,qBAAaK,MAAb,CAAoB,YAAU;AAC1BC,sBAAUC,UAAV;AACA/B,eAAGgC,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACAC,sBAAUC,WAAV,CAAsB,IAAtB;AACAC,qBAASC,iBAAT;AACH,SALD;AAMH;AACD;AA5DK,CAAT","file":"Resurgence.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        m_BlackBG:cc.Node,\r\n        m_btTime:cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        window.gResurgenceView = this;\r\n        \r\n        this.node.x = 0;\r\n        this.node.active = false;\r\n    },\r\n\r\n    start () {\r\n        \r\n    },\r\n\r\n    blackBGAnim:function(show){\r\n        if( show ){\r\n            this.m_BlackBG.runAction(cc.fadeTo(0.5,130));\r\n        }else{\r\n            this.m_BlackBG.runAction(cc.fadeTo(0.5,0));\r\n        }\r\n    },\r\n    onShowView:function(show){\r\n        if( show ){\r\n\r\n            var time = 3;\r\n            this.m_btTime.string = ''+time;\r\n            var __callBack=function(){\r\n                if(gAdvertising.node.active )return;\r\n                time -= 1;\r\n                this.m_btTime.string = ''+time;\r\n\r\n                if( time == -1){\r\n                    this.node.active = false;\r\n                    gBrief.onShowView();\r\n                    this.unschedule(__callBack);\r\n                }\r\n            }\r\n            this.schedule(__callBack,1,3);\r\n        }else{\r\n            this.m_BlackBG.runAction(cc.fadeTo(0.5,0));\r\n        }\r\n        this.blackBGAnim(show);\r\n        this.node.active = show;\r\n    },\r\n    onAdv:function(){\r\n        this.node.active =false;\r\n        gAdvertising.onShow(function(){\r\n            gAirPlane.Resurgence();\r\n            cc.director.getCollisionManager().enabled = true;\r\n            gTouchCtl.setCanTouch(true);\r\n            gGameCtl.onBulletKilledAll();\r\n        });\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}