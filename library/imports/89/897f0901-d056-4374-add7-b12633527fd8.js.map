{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\subWeapon/assets\\script\\subWeapon\\subWeapon1.js"],"names":["cc","Class","extends","Component","properties","m_LeftWind","Sprite","m_RightWind","m_LeftBullet","Node","m_RightBullet","m_buttle","onLoad","pos","convertToWorldSpaceAR","v2","pos1","gGameCtl","m_SubWeaponParent","convertToNodeSpaceAR","parent","addChild","setPosition","m_bInit","Reset","start","setScale","m_bButtleMove","active","m_Sleep","begin","node","m_bBeginLeft","seq","sequence","scaleTo","callFunc","bind","runAction","setStart","resumeAllActions","setStop","pauseAllActions","update","dt","y"],"mappings":"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","file":"subWeapon1.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\subWeapon","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        m_LeftWind:cc.Sprite,\r\n        m_RightWind:cc.Sprite,\r\n        m_LeftBullet:cc.Node,\r\n        m_RightBullet:cc.Node,\r\n        m_buttle:cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        var pos = this.m_buttle.convertToWorldSpaceAR(cc.v2(0,0));\r\n        var pos1 = gGameCtl.m_SubWeaponParent.convertToNodeSpaceAR(pos)\r\n\r\n        this.m_buttle.parent = null;\r\n        gGameCtl.m_SubWeaponParent.addChild(this.m_buttle);\r\n        this.m_buttle.setPosition(pos1);\r\n        \r\n        this.m_bInit = false;\r\n        this.Reset();\r\n    },\r\n\r\n    start () {\r\n    },\r\n    Reset:function(){\r\n\r\n        this.m_LeftBullet.setScale(cc.v2(0.1,0.1));\r\n        this.m_RightBullet.setScale(cc.v2(0.1,0.1));\r\n        \r\n        this.m_bButtleMove =false;\r\n        this.m_buttle.active = false;\r\n        this.m_Sleep = false;\r\n    },\r\n    begin:function(){\r\n        var node;\r\n        if( this.m_bBeginLeft){\r\n            node = this.m_LeftBullet;\r\n            node.active = true;\r\n            this.m_RightBullet.active = false;\r\n            \r\n        }else{\r\n            node = this.m_RightBullet;\r\n            node.active = true;\r\n            this.m_LeftBullet.active = false;\r\n        }\r\n        node.setScale(cc.v2(0.1,0.1));\r\n        var seq = cc.sequence(cc.scaleTo(1,0.5,0.5),cc.callFunc(function(){\r\n\r\n            node.active = false;\r\n\r\n            var pos = node.convertToWorldSpaceAR(cc.v2(0,0));\r\n            pos = gGameCtl.node.convertToNodeSpaceAR(pos)\r\n            \r\n            this.m_buttle.active = true;\r\n            this.m_buttle.setPosition(pos);\r\n\r\n            this.m_bButtleMove = true;\r\n\r\n        }.bind(this)))\r\n        node.runAction(seq)\r\n        this.m_bBeginLeft = !this.m_bBeginLeft;\r\n    },\r\n    setStart:function(){\r\n        if( !this.m_bInit ){\r\n            this.begin();\r\n            this.m_bInit = true;\r\n        }\r\n        this.m_LeftBullet.resumeAllActions();\r\n        this.m_RightBullet.resumeAllActions();\r\n        this.m_Sleep = false;\r\n    },\r\n    setStop:function(){\r\n        this.m_LeftBullet.pauseAllActions();\r\n        this.m_RightBullet.pauseAllActions();\r\n        this.m_Sleep  = true;\r\n    },\r\n\r\n    update (dt) {\r\n        if( this.m_bButtleMove && !this.m_Sleep ){\r\n            var y = this.m_buttle.y;\r\n            y += 1000*dt;\r\n            this.m_buttle.y = y;\r\n            if( this.m_buttle.y> 860){\r\n                this.begin();\r\n                this.m_bButtleMove = false;\r\n                this.m_buttle.active = false;\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}